<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Alpine.js Navigation Debug</title>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <style>
        body { font-family: Arial, sans-serif; background: #1a1a1a; color: white; padding: 20px; }
        .page { padding: 20px; margin: 10px 0; background: #2a2a2a; border-radius: 8px; }
        .nav { margin: 20px 0; }
        .nav button { margin: 0 10px; padding: 10px 20px; background: #007acc; color: white; border: none; border-radius: 4px; cursor: pointer; }
        .nav button:hover { background: #005a99; }
        .nav button.active { background: #00aa00; }
    </style>
</head>
<body>
    <h1>Alpine.js Navigation Debug Test</h1>
    
    <div x-data="debugApp()">
        <div class="nav">
            <button @click="switchToPage('generate')" :class="currentPage === 'generate' ? 'active' : ''">Generate</button>
            <button @click="switchToPage('templates')" :class="currentPage === 'templates' ? 'active' : ''">Templates</button>
            <button @click="switchToPage('history')" :class="currentPage === 'history' ? 'active' : ''">History</button>
            <button @click="switchToPage('analytics')" :class="currentPage === 'analytics' ? 'active' : ''">Analytics</button>
        </div>
        
        <div>
            <p><strong>Current Page:</strong> <span x-text="currentPage"></span></p>
            <p><strong>Debug Info:</strong> <span x-text="debugInfo"></span></p>
        </div>
        
        <div x-show="currentPage === 'generate'" class="page">
            <h2>Generate Page</h2>
            <p>This is the generate page content</p>
        </div>
        
        <div x-show="currentPage === 'templates'" class="page">
            <h2>Templates Page</h2>
            <p>This is the templates page content</p>
        </div>
        
        <div x-show="currentPage === 'history'" class="page">
            <h2>History Page</h2>
            <p>This is the history page content</p>
        </div>
        
        <div x-show="currentPage === 'analytics'" class="page">
            <h2>Analytics Page</h2>
            <p>This is the analytics page content</p>
        </div>
    </div>

    <script>
        function debugApp() {
            return {
                currentPage: 'generate',
                debugInfo: 'Initialized',
                
                switchToPage(page) {
                    console.log('Switching to page:', page);
                    console.log('Current page before:', this.currentPage);
                    this.currentPage = page;
                    this.debugInfo = `Switched to ${page} at ${new Date().toLocaleTimeString()}`;
                    console.log('Current page after:', this.currentPage);
                    
                    // Force Alpine.js to re-evaluate x-show conditions
                    this.$nextTick(() => {
                        console.log('Next tick - current page:', this.currentPage);
                    });
                }
            }
        }
    </script>
</body>
</html>